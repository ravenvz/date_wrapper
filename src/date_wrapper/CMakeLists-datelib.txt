ExternalProject_Add(
  DateLibExternal

  GIT_REPOSITORY "https://github.com/HowardHinnant/date"
  GIT_TAG "v2.2"

  UPDATE_COMMAND ""
  PATCH_COMMAND ""
  TEST_COMMAND ""
  CONFIGURE_COMMAND ""
  BUILD_COMMAND ""
  INSTALL_COMMAND ""

  SOURCE_DIR "${CMAKE_CURRENT_SOURCE_DIR}/${THIRD_PARTY_LIBS_FOLDER}/date"
)

ExternalProject_Get_Property(DateLibExternal source_dir)
set(DateLib_INCLUDE_DIRS "${source_dir}")

# Workaround against Cmake not downloading lib before using it
set(Datelib_include_dirs_cmake_bug_wround ${DateLib_INCLUDE_DIRS})

add_library(DateLib INTERFACE)
target_include_directories(DateLib INTERFACE ${source_dir})

# target_sources(DateLib INTERFACE
#       ${CMAKE_CURRENT_SOURCE_DIR}/lib/date/date.h
# )

add_dependencies(DateLib DateLibExternal)
